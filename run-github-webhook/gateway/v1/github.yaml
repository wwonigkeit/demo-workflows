direktiv_api: endpoint/v1
allow_anonymous: true
path: /v1/github
plugins:
  target:
    type: target-flow
    configuration:
      namespace: demo-workflows
      flow: /run-github-webhook/workflows/run-github-webhook.yaml
      content_type: application/json  
  inbound:
    - type: request-convert
      configuration:
        omit_headers: false
        omit_queries: false
        omit_body: false
        omit_consumer: false
  #   - type: "acl"
  #     configuration:
  #       allow_groups:
  #         - "github-webhooks"
  # auth:
  #   - type: "key-auth"
  #     configuration:
  #       add_username_header: true
  #       add_tags_header: true
  #       add_groups_header: false
  #       key_name: "Aws-Authentication-Header" 
methods:
  - POST
timeout: 10